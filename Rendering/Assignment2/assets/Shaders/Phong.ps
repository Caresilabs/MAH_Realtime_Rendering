
cbuffer PerObjectBuffer : register(b2)
{
	float3 Ka;
	//-- 1 byte pad
	float3 Kd;
	//-- 1 byte pad
	float3 Ks;
};

struct PSIn
{
	float4 Pos  : SV_Position;
	float3 Normal : NORMAL;
	float2 TexCoord : TEX;
	float3 LightDir : LIGHTDIR;
	float3 ViewDir : VIEWDIR;
};

//-----------------------------------------------------------------------------------------
// PixelShader: PSSceneMain
//-----------------------------------------------------------------------------------------
float4 PS_main(PSIn input) : SV_Target
{	

	float3 ambient = Ka;
	float3 diffuse = max(0, dot(input.Normal, input.LightDir)) * Kd;

	float specPow = 10.0;
	float3 specular = pow( max(0, dot(reflect(input.LightDir, input.Normal), input.ViewDir)), specPow) * Ks;

	return float4(ambient + diffuse + specular, 1);
}